<html>
<head>
  <title>prob42.pl</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<a href=http://projecteuler.net/index.php?section=problems&id=42>Problem 42</a><br>Filename: prob42.pl<br><pre>
<font color="#444444">#!/usr/bin/perl -w
# Problem 42
# 
# The nth term of the sequence of triangle numbers is given by, tn = Â½n(n+1); so the first ten triangle numbers are:
# 
# 1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...
# 
# By converting each letter in a word to a number corresponding to its alphabetical position and adding these values we form a word value. For example, the word value for SKY is 19 + 11 + 25 = 55 = t10. If the word value is a triangle number then we shall call the word a triangle word.
# 
# Using words.txt (right click and 'Save Link/Target As...'), a 16K text file containing nearly two-thousand common English words, how many are triangle words?

</font><strong>use</strong> strict;
<strong>use</strong> POSIX<font color="#008000"> qw/ceil/</font>;
<strong>use</strong> POSIX<font color="#008000"> qw/floor/</font>;

<strong>my</strong> <font color="#2040a0">$file</font> = <font color="#008000">&quot;prob42.txt&quot;</font>;

<strong>local</strong><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$</font>/<font color="4444FF"><strong>)</strong></font>;
<font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font> <strong>my</strong> <font color="#2040a0">$fh</font>, <font color="#2040a0">$file</font> <font color="4444FF"><strong>)</strong></font> <strong>or</strong> <strong>die</strong> <font color="#008000">&quot;sudden flaming death<font color="#77dd77">\n</font>&quot;</font>;
<strong>my</strong> <font color="#2040a0">$text</font> = &lt;<font color="#2040a0">$fh</font>&gt;;
<strong>my</strong> <font color="#2040a0">@words</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/,/</font>, <font color="#2040a0">$text</font><font color="4444FF"><strong>)</strong></font>;

<strong>my</strong> <font color="#2040a0">$num</font> = 0;


<strong>foreach</strong><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@words</font><font color="4444FF"><strong>)</strong></font>
<font color="4444FF"><strong>{</strong></font>
    <font color="a52a2a"><strong>chomp</strong></font>;
    <strong>my</strong> <font color="#2040a0">$edited</font> = <font color="#2040a0">$_</font>;
    <font color="#2040a0">$edited</font> =~<font color="b000d0"> s/\&quot;//g</font>;
    <font color="a52a2a"><strong>print</strong></font> <font color="#2040a0">$edited</font> . <font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font>;
    <strong>if</strong><font color="4444FF"><strong>(</strong></font>isTriangle<font color="4444FF"><strong>(</strong></font>value<font color="4444FF"><strong>(</strong></font><font color="#2040a0">$edited</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>
    <font color="4444FF"><strong>{</strong></font>
	<font color="#2040a0">$num</font> += 1;
    <font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>

<font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;total = <font color="#2040a0">$num</font><font color="#77dd77">\n</font>&quot;</font>;



<strong>sub<font color="ff0000"> value</font>
{</strong>
    <strong>my</strong> <font color="#2040a0">$word</font> = <font color="a52a2a"><strong>shift</strong></font>;
    <strong>my</strong> <font color="#2040a0">$total</font> = 0;
    <strong>my</strong> <font color="#2040a0">@array</font> = <font color="a52a2a"><strong>unpack</strong></font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;C*&quot;</font>, <font color="#2040a0">$word</font><font color="4444FF"><strong>)</strong></font>;
    <strong>foreach</strong><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@array</font><font color="4444FF"><strong>)</strong></font>
    <font color="4444FF"><strong>{</strong></font>
	<font color="#2040a0">$total</font> += <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$_</font> - 64<font color="4444FF"><strong>)</strong></font>;
    <font color="4444FF"><strong>}</strong></font>

    <strong>return</strong> <font color="#2040a0">$total</font>;
<font color="4444FF"><strong>}</strong></font>

<strong>sub<font color="ff0000"> isTriangle</font>
{</strong>
    <strong>my</strong> <font color="#2040a0">$Tn</font> = <font color="a52a2a"><strong>shift</strong></font>;
    <strong>return</strong> ceil<font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font>-1 + <font color="a52a2a"><strong>sqrt</strong></font><font color="4444FF"><strong>(</strong></font>1+8*<font color="#2040a0">$Tn</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="b000d0">/2) == floor((-1 + sqrt(1+8*$Tn))/</font>2<font color="4444FF"><strong>)</strong></font>;
<font color="4444FF"><strong>}</strong></font>



</pre>
<hr>
syntax highlighted by <a href="http://www.palfrader.org/code2html">Code2HTML</a>, v. 0.9.1
</body>
</html>
