<html>
<head>
  <title>prob44.c</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<a href=http://projecteuler.net/index.php?section=problems&id=44>Problem 44</a><br>Filename: prob44.c<br><pre>
<font color="#444444">/*Pentagonal numbers are generated by the formula, Pn=n(3n1)/2. The first ten pentagonal numbers are:
 *
 *1, 5, 12, 22, 35, 51, 70, 92, 117, 145, ...
 *
 *It can be seen that P4 + P7 = 22 + 70 = 92 = P8. However, their difference, 70  22 = 48, is not pentagonal.
 *
 *Find the pair of pentagonal numbers, Pj and Pk, for which their sum and difference is pentagonal and D = |Pk  Pj| is minimised; what is the value of D?
 */</font>


<font color="0000ff"><strong>#include <font color="#008000">&lt;stdio.h&gt;</font></strong></font>
<font color="0000ff"><strong>#include <font color="#008000">&lt;math.h&gt;</font></strong></font>

<strong>typedef</strong> <strong>unsigned</strong> <strong>long</strong> <strong>long</strong> <font color="#2040a0">number</font><font color="4444FF">;</font>

<font color="#2040a0">inline</font> <font color="#2040a0">number</font> <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">n</font><font color="4444FF">)</font>
<font color="4444FF"><strong>{</strong></font>
  <strong>return</strong> <font color="#2040a0">n</font><font color="4444FF">*</font><font color="4444FF">(</font><font color="#FF0000">3</font><font color="4444FF">*</font><font color="#2040a0">n</font><font color="4444FF">-</font><font color="#FF0000">1</font><font color="4444FF">)</font>/<font color="#FF0000">2</font><font color="4444FF">;</font>
<font color="4444FF"><strong>}</strong></font>

<font color="#2040a0">inline</font> <font color="#2040a0">number</font> <font color="#2040a0">diff</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">x</font>, <strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">y</font><font color="4444FF">)</font>
<font color="4444FF"><strong>{</strong></font>
  <strong>if</strong><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">&gt;</font><font color="#2040a0">y</font><font color="4444FF">)</font>
    <font color="4444FF"><strong>{</strong></font>
      <strong>return</strong> <font color="#2040a0">x</font><font color="4444FF">-</font><font color="#2040a0">y</font><font color="4444FF">;</font>
    <font color="4444FF"><strong>}</strong></font>
  <strong>else</strong>
    <font color="4444FF"><strong>{</strong></font>
      <strong>return</strong> <font color="#2040a0">y</font><font color="4444FF">-</font><font color="#2040a0">x</font><font color="4444FF">;</font>
    <font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font> 

<font color="#2040a0">inline</font> <strong>int</strong> <font color="#2040a0">isPentagonal</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">x</font><font color="4444FF">)</font>
<font color="4444FF"><strong>{</strong></font>
  //	<strong>if</strong><font color="4444FF">(</font><font color="#2040a0">ceil</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">sqrt</font><font color="4444FF">(</font><font color="#FF0000">1</font><font color="4444FF">-</font><font color="#FF0000">24</font><font color="4444FF">*</font><font color="#2040a0">x</font><font color="4444FF">)</font><font color="4444FF">)</font>/<font color="#FF0000">6</font><font color="4444FF">)</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#2040a0">floor</font><font color="4444FF">(</font><font color="4444FF">(</font><font color="#FF0000">1</font><font color="4444FF">+</font><font color="#2040a0">sqrt</font><font color="4444FF">(</font><font color="#FF0000">1</font><font color="4444FF">-</font><font color="#FF0000">24</font><font color="4444FF">*</font><font color="#2040a0">x</font><font color="4444FF">)</font><font color="4444FF">)</font>/<font color="#FF0000">6</font><font color="4444FF">)</font><font color="4444FF">)</font>
  //		<font color="4444FF"><strong>{</strong></font>
  //			<strong>return</strong> <font color="#FF0000">1</font><font color="4444FF">;</font>
  //		<font color="4444FF"><strong>}</strong></font>
  //	<strong>else</strong>
  //		<font color="4444FF"><strong>{</strong></font>
  //			<strong>return</strong> <font color="#FF0000">0</font><font color="4444FF">;</font>
  //		<font color="4444FF"><strong>}</strong></font>
  <strong>int</strong> <font color="#2040a0">i</font><font color="4444FF">;</font>
  <strong>for</strong><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font> <font color="4444FF">&lt;</font> <font color="#2040a0">x</font><font color="4444FF">;</font> <font color="4444FF">+</font><font color="4444FF">+</font><font color="#2040a0">i</font><font color="4444FF">)</font>
    <font color="4444FF">;</font>
  
	<strong>return</strong> <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">i</font><font color="4444FF">)</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#2040a0">x</font><font color="4444FF">;</font>
<font color="4444FF"><strong>}</strong></font>

<font color="#2040a0">inline</font> <strong>int</strong> <font color="#2040a0">meetsCriteria</font><font color="4444FF">(</font><strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">x</font>, <strong>const</strong> <font color="#2040a0">number</font> <font color="#2040a0">y</font><font color="4444FF">)</font>
<font color="4444FF"><strong>{</strong></font>
  
  
  <strong>return</strong> <font color="#2040a0">isPentagonal</font><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">+</font><font color="#2040a0">y</font><font color="4444FF">)</font> <font color="4444FF">&amp;</font><font color="4444FF">&amp;</font>
    <font color="#2040a0">isPentagonal</font><font color="4444FF">(</font><font color="#2040a0">diff</font><font color="4444FF">(</font><font color="#2040a0">x</font>,<font color="#2040a0">y</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
<font color="4444FF"><strong>}</strong></font>

<strong>int</strong> <font color="#2040a0">main</font><font color="4444FF">(</font><font color="4444FF">)</font>
<font color="4444FF"><strong>{</strong></font>
  <strong>int</strong> <font color="#2040a0">x</font> <font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
  <strong>int</strong> <font color="#2040a0">y</font> <font color="4444FF">=</font> <font color="#FF0000">1</font><font color="4444FF">;</font>
  
  //	<font color="#2040a0">printf</font><font color="4444FF">(</font><font color="#008000">&quot;pentagonal(20000) = %llu<font color="#77dd77">\n</font>&quot;</font>, <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#FF0000">20000</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
  //	<strong>return</strong> <font color="#FF0000">0</font><font color="4444FF">;</font>
  
  <strong>for</strong><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="4444FF">;</font> <font color="4444FF">+</font><font color="4444FF">+</font><font color="#2040a0">x</font><font color="4444FF">)</font>
    <font color="4444FF"><strong>{</strong></font>
      <strong>for</strong><font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">=</font><font color="#FF0000">1</font><font color="4444FF">;</font> <font color="#2040a0">y</font><font color="4444FF">&lt;</font><font color="4444FF">=</font><font color="#2040a0">x</font><font color="4444FF">;</font> <font color="4444FF">+</font><font color="4444FF">+</font><font color="#2040a0">y</font><font color="4444FF">)</font>
	<font color="4444FF"><strong>{</strong></font> 
	  <strong>if</strong><font color="4444FF">(</font><font color="#2040a0">meetsCriteria</font><font color="4444FF">(</font><font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">)</font>, <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">)</font>
	    <font color="4444FF"><strong>{</strong></font>
	      <font color="#2040a0">printf</font><font color="4444FF">(</font><font color="#008000">&quot;pentagonal(x)=%lld, pentagonal(y)=%lld, diff(x,y)=%lld<font color="#77dd77">\n</font>&quot;</font>, 
								   <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">)</font>, 
		     <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">)</font>, 
		     <font color="#2040a0">diff</font><font color="4444FF">(</font><font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">x</font><font color="4444FF">)</font>, <font color="#2040a0">pentagonal</font><font color="4444FF">(</font><font color="#2040a0">y</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">)</font><font color="4444FF">;</font>
	      <strong>return</strong> <font color="#FF0000">0</font><font color="4444FF">;</font>
						<font color="4444FF"><strong>}</strong></font>
	  //					<strong>if</strong><font color="4444FF">(</font><font color="#2040a0">x</font> <font color="4444FF">%</font> <font color="#FF0000">100</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#FF0000">0</font> <font color="4444FF">|</font><font color="4444FF">|</font> <font color="#2040a0">y</font> <font color="4444FF">%</font> <font color="#FF0000">100</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">)</font>
	  //						<font color="4444FF"><strong>{</strong></font>
	  //							<font color="#2040a0">printf</font><font color="4444FF">(</font><font color="#008000">&quot;(x,y) : (%d,%d)<font color="#77dd77">\n</font>&quot;</font>, <font color="#2040a0">x</font>, <font color="#2040a0">y</font><font color="4444FF">)</font><font color="4444FF">;</font>
//						<font color="4444FF"><strong>}</strong></font>
	<font color="4444FF"><strong>}</strong></font>
    <font color="4444FF"><strong>}</strong></font>
  
  <strong>return</strong> <font color="#FF0000">0</font><font color="4444FF">;</font>
<font color="4444FF"><strong>}</strong></font>

</pre>
<hr>
syntax highlighted by <a href="http://www.palfrader.org/code2html">Code2HTML</a>, v. 0.9.1
</body>
</html>
